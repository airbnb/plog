language: java
jdk:
- oraclejdk8
script:
- TERM=dumb ./gradlew check --info
- TERM=dumb ./gradlew shadowJar --info
- python -m py_compile third-party/datadog/plog.py

# publish artifacts to bintray on tag builds
# TRAVIS_TAG is a default environment variable that's set if the build is for a tagged commit
# https://docs.travis-ci.com/user/environment-variables/
#after_success:
#  - >
#      test "${TRAVIS_TAG}" &&
#      test "${TRAVIS_JDK_VERSION}" = 'oraclejdk8' &&
#      ./gradlew --info bintrayUpload

